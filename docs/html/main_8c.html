<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AVA LLC Documentation: MAINBOARD/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AVA LLC Documentation<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Documentation of LLC program used in AVA</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('main_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main program body for STM32-based vehicle control system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main.h&quot;</code><br />
<code>#include &quot;cmsis_os.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_control_c_m_d.html">ControlCMD</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control command structure containing throttle/brake/steer/timestamp.  <a href="struct_control_c_m_d.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4bef1684c11775456cc06fd60b23c1f2" id="r_a4bef1684c11775456cc06fd60b23c1f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4bef1684c11775456cc06fd60b23c1f2">THROTTLE_FILTER</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="memdesc:a4bef1684c11775456cc06fd60b23c1f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smoothing factor for throttle input (0..1).  <br /></td></tr>
<tr class="separator:a4bef1684c11775456cc06fd60b23c1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0806cd14a1c22ddde1d346a8271c2e25" id="r_a0806cd14a1c22ddde1d346a8271c2e25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0806cd14a1c22ddde1d346a8271c2e25">ULTRASONIC_THRESHOLD</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a0806cd14a1c22ddde1d346a8271c2e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threshold (in raw units) under which ultrasonic sensors trigger proximity actions.  <br /></td></tr>
<tr class="separator:a0806cd14a1c22ddde1d346a8271c2e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa1763cec78e3b59838f5b51a31b657" id="r_acfa1763cec78e3b59838f5b51a31b657"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfa1763cec78e3b59838f5b51a31b657">ULTRASONIC_BOT_THRESHOLD</a>&#160;&#160;&#160;70</td></tr>
<tr class="memdesc:acfa1763cec78e3b59838f5b51a31b657"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower bound threshold for ultrasonic sensors mapping to brake action.  <br /></td></tr>
<tr class="separator:acfa1763cec78e3b59838f5b51a31b657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0249d81dd53336b7810ebcf29511210" id="r_ab0249d81dd53336b7810ebcf29511210"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0249d81dd53336b7810ebcf29511210">UART_BUF_SIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:ab0249d81dd53336b7810ebcf29511210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af831dd6bf2216d6fbf4142ab8c8b00" id="r_a1af831dd6bf2216d6fbf4142ab8c8b00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1af831dd6bf2216d6fbf4142ab8c8b00">UART1_BUF_SIZE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a1af831dd6bf2216d6fbf4142ab8c8b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe" id="r_a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The application entry point.  <br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70af21c671abfcc773614a9a4f63d920" id="r_a70af21c671abfcc773614a9a4f63d920"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70af21c671abfcc773614a9a4f63d920">SystemClock_Config</a> (void)</td></tr>
<tr class="memdesc:a70af21c671abfcc773614a9a4f63d920"><td class="mdescLeft">&#160;</td><td class="mdescRight">System Clock Configuration.  <br /></td></tr>
<tr class="separator:a70af21c671abfcc773614a9a4f63d920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336c5acb34a801b2984e602b97ed7b73" id="r_a336c5acb34a801b2984e602b97ed7b73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a336c5acb34a801b2984e602b97ed7b73">PeriphCommonClock_Config</a> (void)</td></tr>
<tr class="memdesc:a336c5acb34a801b2984e602b97ed7b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peripherals Common Clock Configuration.  <br /></td></tr>
<tr class="separator:a336c5acb34a801b2984e602b97ed7b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa025a12d45f60c7d0eae249e61f0c7f9" id="r_aa025a12d45f60c7d0eae249e61f0c7f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa025a12d45f60c7d0eae249e61f0c7f9">_write</a> (int file, char *ptr, int len)</td></tr>
<tr class="memdesc:aa025a12d45f60c7d0eae249e61f0c7f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reimplements write syscall used by printf to route through UART8.  <br /></td></tr>
<tr class="separator:aa025a12d45f60c7d0eae249e61f0c7f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4466af40477fad9abd9287dc003013fc" id="r_a4466af40477fad9abd9287dc003013fc"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4466af40477fad9abd9287dc003013fc">ceksum</a> (uint8_t *msg, uint16_t array_size)</td></tr>
<tr class="memdesc:a4466af40477fad9abd9287dc003013fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute checksum of a message buffer.  <br /></td></tr>
<tr class="separator:a4466af40477fad9abd9287dc003013fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738f33194888982179443105306e5f96" id="r_a738f33194888982179443105306e5f96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a738f33194888982179443105306e5f96">query_request_data</a> (uint8_t *msg)</td></tr>
<tr class="memdesc:a738f33194888982179443105306e5f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle query request messages received over UART.  <br /></td></tr>
<tr class="separator:a738f33194888982179443105306e5f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0798246d50bcef987b5bc4b74e6a364" id="r_af0798246d50bcef987b5bc4b74e6a364"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0798246d50bcef987b5bc4b74e6a364">parse_command</a> (uint8_t *msg)</td></tr>
<tr class="memdesc:af0798246d50bcef987b5bc4b74e6a364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse incoming UART commands and dispatch appropriate actions.  <br /></td></tr>
<tr class="separator:af0798246d50bcef987b5bc4b74e6a364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae494a9643f29b87d6d81e5264e60e57b" id="r_ae494a9643f29b87d6d81e5264e60e57b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae494a9643f29b87d6d81e5264e60e57b">HAL_UART_RxCpltCallback</a> (UART_HandleTypeDef *huart)</td></tr>
<tr class="memdesc:ae494a9643f29b87d6d81e5264e60e57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART receive complete callback used by HAL interrupt mode.  <br /></td></tr>
<tr class="separator:ae494a9643f29b87d6d81e5264e60e57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f68b90d4a72b12ea2eeb7a2890f244f" id="r_a5f68b90d4a72b12ea2eeb7a2890f244f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f68b90d4a72b12ea2eeb7a2890f244f">send_uart</a> (void *argument)</td></tr>
<tr class="memdesc:a5f68b90d4a72b12ea2eeb7a2890f244f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function implementing the defaultTask thread (send_uart).  <br /></td></tr>
<tr class="separator:a5f68b90d4a72b12ea2eeb7a2890f244f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab999438b5580f4a0566c39283b5e6080" id="r_ab999438b5580f4a0566c39283b5e6080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab999438b5580f4a0566c39283b5e6080">ezkontrol</a> (void *argument)</td></tr>
<tr class="memdesc:ab999438b5580f4a0566c39283b5e6080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function implementing the myTask02 thread (ezkontrol).  <br /></td></tr>
<tr class="separator:ab999438b5580f4a0566c39283b5e6080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f73d74fe913c03e6f604659b1767b9" id="r_a70f73d74fe913c03e6f604659b1767b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70f73d74fe913c03e6f604659b1767b9">canbus_sampling</a> (void *argument)</td></tr>
<tr class="memdesc:a70f73d74fe913c03e6f604659b1767b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function implementing the myTask03 thread (canbus_sampling).  <br /></td></tr>
<tr class="separator:a70f73d74fe913c03e6f604659b1767b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1974d32f9add5c8ff68593b48c98be0" id="r_ad1974d32f9add5c8ff68593b48c98be0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1974d32f9add5c8ff68593b48c98be0">Steering</a> (void *argument)</td></tr>
<tr class="memdesc:ad1974d32f9add5c8ff68593b48c98be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function implementing the myTask04 thread (Steering).  <br /></td></tr>
<tr class="separator:ad1974d32f9add5c8ff68593b48c98be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15fe3ce8250964de6f0317ff2653632c" id="r_a15fe3ce8250964de6f0317ff2653632c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15fe3ce8250964de6f0317ff2653632c">Brake</a> (void *argument)</td></tr>
<tr class="memdesc:a15fe3ce8250964de6f0317ff2653632c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function implementing the myTask05 thread (Brake).  <br /></td></tr>
<tr class="separator:a15fe3ce8250964de6f0317ff2653632c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8203aa70a52565297789b53a0d937791" id="r_a8203aa70a52565297789b53a0d937791"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8203aa70a52565297789b53a0d937791">safety_system</a> (void *argument)</td></tr>
<tr class="memdesc:a8203aa70a52565297789b53a0d937791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function implementing the myTask06 thread (safety_system).  <br /></td></tr>
<tr class="separator:a8203aa70a52565297789b53a0d937791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3b0ad512a6e6c6157440b68d395eac" id="r_a8a3b0ad512a6e6c6157440b68d395eac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a3b0ad512a6e6c6157440b68d395eac">HAL_TIM_PeriodElapsedCallback</a> (TIM_HandleTypeDef *htim)</td></tr>
<tr class="memdesc:a8a3b0ad512a6e6c6157440b68d395eac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Period elapsed callback in non blocking mode.  <br /></td></tr>
<tr class="separator:a8a3b0ad512a6e6c6157440b68d395eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1730ffe1e560465665eb47d9264826f9" id="r_a1730ffe1e560465665eb47d9264826f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1730ffe1e560465665eb47d9264826f9">Error_Handler</a> (void)</td></tr>
<tr class="memdesc:a1730ffe1e560465665eb47d9264826f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is executed in case of error occurrence.  <br /></td></tr>
<tr class="separator:a1730ffe1e560465665eb47d9264826f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af71d0ea733e88dc84fb4506e3bb5d8ce" id="r_af71d0ea733e88dc84fb4506e3bb5d8ce"><td class="memItemLeft" align="right" valign="top">FDCAN_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af71d0ea733e88dc84fb4506e3bb5d8ce">hfdcan2</a></td></tr>
<tr class="memdesc:af71d0ea733e88dc84fb4506e3bb5d8ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">FDCAN handle for FDCAN2 peripheral.  <br /></td></tr>
<tr class="separator:af71d0ea733e88dc84fb4506e3bb5d8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c07cbc82baf01ac2608c07b86332a67" id="r_a5c07cbc82baf01ac2608c07b86332a67"><td class="memItemLeft" align="right" valign="top">UART_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c07cbc82baf01ac2608c07b86332a67">huart8</a></td></tr>
<tr class="memdesc:a5c07cbc82baf01ac2608c07b86332a67"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART handle for UART8.  <br /></td></tr>
<tr class="separator:a5c07cbc82baf01ac2608c07b86332a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf715bef37f7e8ef385a30974a5f0d5" id="r_a2cf715bef37f7e8ef385a30974a5f0d5"><td class="memItemLeft" align="right" valign="top">UART_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cf715bef37f7e8ef385a30974a5f0d5">huart1</a></td></tr>
<tr class="memdesc:a2cf715bef37f7e8ef385a30974a5f0d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART handle for USART1.  <br /></td></tr>
<tr class="separator:a2cf715bef37f7e8ef385a30974a5f0d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9479c261d65eecedd3d9582f7f0f89c" id="r_aa9479c261d65eecedd3d9582f7f0f89c"><td class="memItemLeft" align="right" valign="top">UART_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9479c261d65eecedd3d9582f7f0f89c">huart2</a></td></tr>
<tr class="memdesc:aa9479c261d65eecedd3d9582f7f0f89c"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART handle for USART2.  <br /></td></tr>
<tr class="separator:aa9479c261d65eecedd3d9582f7f0f89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a263905468b0c37de4ee5e50ede4e74" id="r_a6a263905468b0c37de4ee5e50ede4e74"><td class="memItemLeft" align="right" valign="top">osThreadId_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a263905468b0c37de4ee5e50ede4e74">defaultTaskHandle</a></td></tr>
<tr class="separator:a6a263905468b0c37de4ee5e50ede4e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fbb54afdba71c24ba51ed50166ac8d" id="r_a25fbb54afdba71c24ba51ed50166ac8d"><td class="memItemLeft" align="right" valign="top">const osThreadAttr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25fbb54afdba71c24ba51ed50166ac8d">defaultTask_attributes</a></td></tr>
<tr class="separator:a25fbb54afdba71c24ba51ed50166ac8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2b138012cae0c08ec4af86d33dc579" id="r_a2d2b138012cae0c08ec4af86d33dc579"><td class="memItemLeft" align="right" valign="top">osThreadId_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d2b138012cae0c08ec4af86d33dc579">myTask02Handle</a></td></tr>
<tr class="separator:a2d2b138012cae0c08ec4af86d33dc579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d405d334dca4c57ae3d18c7bc2040d2" id="r_a6d405d334dca4c57ae3d18c7bc2040d2"><td class="memItemLeft" align="right" valign="top">const osThreadAttr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d405d334dca4c57ae3d18c7bc2040d2">myTask02_attributes</a></td></tr>
<tr class="separator:a6d405d334dca4c57ae3d18c7bc2040d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329f150edda503ebc9ddbbf63cca8e26" id="r_a329f150edda503ebc9ddbbf63cca8e26"><td class="memItemLeft" align="right" valign="top">osThreadId_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a329f150edda503ebc9ddbbf63cca8e26">myTask03Handle</a></td></tr>
<tr class="separator:a329f150edda503ebc9ddbbf63cca8e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e3a8b648e3d8f5b47ac5eeec9581db0" id="r_a1e3a8b648e3d8f5b47ac5eeec9581db0"><td class="memItemLeft" align="right" valign="top">const osThreadAttr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e3a8b648e3d8f5b47ac5eeec9581db0">myTask03_attributes</a></td></tr>
<tr class="separator:a1e3a8b648e3d8f5b47ac5eeec9581db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8c302b617a2329f03faf89a3796b2b" id="r_aef8c302b617a2329f03faf89a3796b2b"><td class="memItemLeft" align="right" valign="top">osThreadId_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef8c302b617a2329f03faf89a3796b2b">myTask04Handle</a></td></tr>
<tr class="separator:aef8c302b617a2329f03faf89a3796b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92121c9d4871cbd24a3536f81b0a49b0" id="r_a92121c9d4871cbd24a3536f81b0a49b0"><td class="memItemLeft" align="right" valign="top">const osThreadAttr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92121c9d4871cbd24a3536f81b0a49b0">myTask04_attributes</a></td></tr>
<tr class="separator:a92121c9d4871cbd24a3536f81b0a49b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30fa863f442d84c64e5fdaf20aa89673" id="r_a30fa863f442d84c64e5fdaf20aa89673"><td class="memItemLeft" align="right" valign="top">osThreadId_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30fa863f442d84c64e5fdaf20aa89673">myTask05Handle</a></td></tr>
<tr class="separator:a30fa863f442d84c64e5fdaf20aa89673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489c45e33b8a8fac2875e16e14628f20" id="r_a489c45e33b8a8fac2875e16e14628f20"><td class="memItemLeft" align="right" valign="top">const osThreadAttr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a489c45e33b8a8fac2875e16e14628f20">myTask05_attributes</a></td></tr>
<tr class="separator:a489c45e33b8a8fac2875e16e14628f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2964f031caf33bc9320b5ef243f55abd" id="r_a2964f031caf33bc9320b5ef243f55abd"><td class="memItemLeft" align="right" valign="top">osThreadId_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2964f031caf33bc9320b5ef243f55abd">myTask06Handle</a></td></tr>
<tr class="separator:a2964f031caf33bc9320b5ef243f55abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad82e06bb4c5badd3595dd84e47bb2e49" id="r_ad82e06bb4c5badd3595dd84e47bb2e49"><td class="memItemLeft" align="right" valign="top">const osThreadAttr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad82e06bb4c5badd3595dd84e47bb2e49">myTask06_attributes</a></td></tr>
<tr class="separator:ad82e06bb4c5badd3595dd84e47bb2e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895c4854f46560e483400793c53980e4" id="r_a895c4854f46560e483400793c53980e4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a895c4854f46560e483400793c53980e4">uart_data</a> [34]</td></tr>
<tr class="memdesc:a895c4854f46560e483400793c53980e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Telemetry packet to be streamed over UART.  <br /></td></tr>
<tr class="separator:a895c4854f46560e483400793c53980e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e2a0dec612328a86551a978d91ed10" id="r_ad5e2a0dec612328a86551a978d91ed10"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5e2a0dec612328a86551a978d91ed10">uart1_data</a> [100]</td></tr>
<tr class="memdesc:ad5e2a0dec612328a86551a978d91ed10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local buffer for incoming UART1 data copy.  <br /></td></tr>
<tr class="separator:ad5e2a0dec612328a86551a978d91ed10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee47efb11336ab0282dc184bee99467" id="r_adee47efb11336ab0282dc184bee99467"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adee47efb11336ab0282dc184bee99467">uart_byte8</a></td></tr>
<tr class="memdesc:adee47efb11336ab0282dc184bee99467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single-byte temporary storage for UART interrupts (UART8).  <br /></td></tr>
<tr class="separator:adee47efb11336ab0282dc184bee99467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd5fa72df130fdd9e5590850506729a" id="r_affd5fa72df130fdd9e5590850506729a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affd5fa72df130fdd9e5590850506729a">uart_byte1</a></td></tr>
<tr class="memdesc:affd5fa72df130fdd9e5590850506729a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single-byte temporary storage for UART interrupts (USART1/2).  <br /></td></tr>
<tr class="separator:affd5fa72df130fdd9e5590850506729a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a393a271595a2e2a16270cf7a4e025" id="r_a64a393a271595a2e2a16270cf7a4e025"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64a393a271595a2e2a16270cf7a4e025">uart_rx_buffer</a> [<a class="el" href="#ab0249d81dd53336b7810ebcf29511210">UART_BUF_SIZE</a>]</td></tr>
<tr class="memdesc:a64a393a271595a2e2a16270cf7a4e025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Circular RX buffer for UART8 asynchronous reception.  <br /></td></tr>
<tr class="separator:a64a393a271595a2e2a16270cf7a4e025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5537ad53848381767daf0a731f8fd009" id="r_a5537ad53848381767daf0a731f8fd009"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5537ad53848381767daf0a731f8fd009">uart_index</a> = 0</td></tr>
<tr class="memdesc:a5537ad53848381767daf0a731f8fd009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index into uart_rx_buffer for next write position.  <br /></td></tr>
<tr class="separator:a5537ad53848381767daf0a731f8fd009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca62292fdb4e16adeb393bf4b462231f" id="r_aca62292fdb4e16adeb393bf4b462231f"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca62292fdb4e16adeb393bf4b462231f">uart1_rx_buffer</a> [<a class="el" href="#a1af831dd6bf2216d6fbf4142ab8c8b00">UART1_BUF_SIZE</a>]</td></tr>
<tr class="memdesc:aca62292fdb4e16adeb393bf4b462231f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary buffer for incoming ASCII remote packets (USART1/2).  <br /></td></tr>
<tr class="separator:aca62292fdb4e16adeb393bf4b462231f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ac8944572822b4d2d46c852857fdaf" id="r_ac2ac8944572822b4d2d46c852857fdaf"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2ac8944572822b4d2d46c852857fdaf">uart1_index</a> =0</td></tr>
<tr class="memdesc:ac2ac8944572822b4d2d46c852857fdaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index into uart1_rx_buffer for next write position.  <br /></td></tr>
<tr class="separator:ac2ac8944572822b4d2d46c852857fdaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d3398f46b58d5cbefbdc2a306ae086" id="r_a21d3398f46b58d5cbefbdc2a306ae086"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21d3398f46b58d5cbefbdc2a306ae086">is_broadcast</a> = 0</td></tr>
<tr class="memdesc:a21d3398f46b58d5cbefbdc2a306ae086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating whether telemetry broadcast streaming is enabled.  <br /></td></tr>
<tr class="separator:a21d3398f46b58d5cbefbdc2a306ae086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f98a747185e331f5cda0e09276643da" id="r_a6f98a747185e331f5cda0e09276643da"><td class="memItemLeft" align="right" valign="top">FDCAN_RxHeaderTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f98a747185e331f5cda0e09276643da">rxHeader</a></td></tr>
<tr class="memdesc:a6f98a747185e331f5cda0e09276643da"><td class="mdescLeft">&#160;</td><td class="mdescRight">FDCAN Rx header used for received messages (global scratch).  <br /></td></tr>
<tr class="separator:a6f98a747185e331f5cda0e09276643da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe0a7cfc3082f4628d82d38aff0549a" id="r_abfe0a7cfc3082f4628d82d38aff0549a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abfe0a7cfc3082f4628d82d38aff0549a">remote_cmd</a> [3]</td></tr>
<tr class="memdesc:abfe0a7cfc3082f4628d82d38aff0549a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parsed remote control channels (3 channels).  <br /></td></tr>
<tr class="separator:abfe0a7cfc3082f4628d82d38aff0549a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa664395f931e17d6c609fffcf581ac6c" id="r_aa664395f931e17d6c609fffcf581ac6c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa664395f931e17d6c609fffcf581ac6c">remote_bin</a></td></tr>
<tr class="memdesc:aa664395f931e17d6c609fffcf581ac6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parsed remote binary flags nibble.  <br /></td></tr>
<tr class="separator:aa664395f931e17d6c609fffcf581ac6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0d5f470ec5db5604f2463ab8967c54" id="r_a7f0d5f470ec5db5604f2463ab8967c54"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f0d5f470ec5db5604f2463ab8967c54">uart_cmd</a> [3]</td></tr>
<tr class="memdesc:a7f0d5f470ec5db5604f2463ab8967c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parsed UART command channels stored as integers.  <br /></td></tr>
<tr class="separator:a7f0d5f470ec5db5604f2463ab8967c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f3f1c7cac014645bb8cd8e87444867" id="r_a43f3f1c7cac014645bb8cd8e87444867"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_control_c_m_d.html">ControlCMD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43f3f1c7cac014645bb8cd8e87444867">control_cmd</a></td></tr>
<tr class="memdesc:a43f3f1c7cac014645bb8cd8e87444867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global instance of <a class="el" href="struct_control_c_m_d.html" title="Control command structure containing throttle/brake/steer/timestamp.">ControlCMD</a> used by tasks to read/update control signals.  <br /></td></tr>
<tr class="separator:a43f3f1c7cac014645bb8cd8e87444867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d2825443bceaae0de5f7d008da16ee5" id="r_a1d2825443bceaae0de5f7d008da16ee5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d2825443bceaae0de5f7d008da16ee5">rx_mailbox</a> = 0</td></tr>
<tr class="memdesc:a1d2825443bceaae0de5f7d008da16ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mailbox index for CAN Tx mailbox (unused/placeholder).  <br /></td></tr>
<tr class="separator:a1d2825443bceaae0de5f7d008da16ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629f2b4148e5061aa3f0ade906a96aa2" id="r_a629f2b4148e5061aa3f0ade906a96aa2"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a629f2b4148e5061aa3f0ade906a96aa2">uart_last_remote_time</a> = 0</td></tr>
<tr class="memdesc:a629f2b4148e5061aa3f0ade906a96aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last tick time when a remote UART byte was received.  <br /></td></tr>
<tr class="separator:a629f2b4148e5061aa3f0ade906a96aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c25687f90be12f32ccc04a44c66031a" id="r_a8c25687f90be12f32ccc04a44c66031a"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c25687f90be12f32ccc04a44c66031a">ez_last_can_time</a> = 0</td></tr>
<tr class="memdesc:a8c25687f90be12f32ccc04a44c66031a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last tick time when ezkontrol CAN message was seen.  <br /></td></tr>
<tr class="separator:a8c25687f90be12f32ccc04a44c66031a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3dac34bca19ece028fd64b6269384a8" id="r_ac3dac34bca19ece028fd64b6269384a8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3dac34bca19ece028fd64b6269384a8">is_remote_ready</a> =0</td></tr>
<tr class="memdesc:ac3dac34bca19ece028fd64b6269384a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating remote control readiness.  <br /></td></tr>
<tr class="separator:ac3dac34bca19ece028fd64b6269384a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e23fe38b3351d4137866c9b2246947" id="r_ab9e23fe38b3351d4137866c9b2246947"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9e23fe38b3351d4137866c9b2246947">rxData_ezkontrol</a> [8]</td></tr>
<tr class="separator:ab9e23fe38b3351d4137866c9b2246947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f010454795401379de27a1a14a9c89" id="r_a23f010454795401379de27a1a14a9c89"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23f010454795401379de27a1a14a9c89">rxData_brake</a> [8]</td></tr>
<tr class="separator:a23f010454795401379de27a1a14a9c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab146d0e70fbdcb773edcfb7f2aea0525" id="r_ab146d0e70fbdcb773edcfb7f2aea0525"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab146d0e70fbdcb773edcfb7f2aea0525">rxData_steering</a> [8]</td></tr>
<tr class="separator:ab146d0e70fbdcb773edcfb7f2aea0525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad504b80b97480c39744bd72ff58d4d" id="r_a4ad504b80b97480c39744bd72ff58d4d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ad504b80b97480c39744bd72ff58d4d">rxData_ultrasonic_front</a> [8]</td></tr>
<tr class="separator:a4ad504b80b97480c39744bd72ff58d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0dc07f45f3bb7b623a3ccdd7175c4a" id="r_acf0dc07f45f3bb7b623a3ccdd7175c4a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf0dc07f45f3bb7b623a3ccdd7175c4a">rxData_ultrasonic_rear</a> [8]</td></tr>
<tr class="separator:acf0dc07f45f3bb7b623a3ccdd7175c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d11a0b5e1ff5eae24d4457ed7a55a0" id="r_a08d11a0b5e1ff5eae24d4457ed7a55a0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08d11a0b5e1ff5eae24d4457ed7a55a0">rxData_analog_throttle</a> [8]</td></tr>
<tr class="separator:a08d11a0b5e1ff5eae24d4457ed7a55a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1852432a00dbdffebfce60cfc0e15b04" id="r_a1852432a00dbdffebfce60cfc0e15b04"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1852432a00dbdffebfce60cfc0e15b04">flag_ezkontrol</a> = 0</td></tr>
<tr class="separator:a1852432a00dbdffebfce60cfc0e15b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee03c641192bcbf8c4343055abdc6134" id="r_aee03c641192bcbf8c4343055abdc6134"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee03c641192bcbf8c4343055abdc6134">flag_brake</a> = 0</td></tr>
<tr class="separator:aee03c641192bcbf8c4343055abdc6134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae264f4e1c1ab4f68e9ccfc2360051741" id="r_ae264f4e1c1ab4f68e9ccfc2360051741"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae264f4e1c1ab4f68e9ccfc2360051741">flag_steering</a> = 0</td></tr>
<tr class="separator:ae264f4e1c1ab4f68e9ccfc2360051741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bdd7546d11ab3913e4e139a0f016ff" id="r_a87bdd7546d11ab3913e4e139a0f016ff"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87bdd7546d11ab3913e4e139a0f016ff">flag_ultrasonic_front</a> = 0</td></tr>
<tr class="separator:a87bdd7546d11ab3913e4e139a0f016ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c11480e6f71a04de2ec9e6c736beb5" id="r_ae7c11480e6f71a04de2ec9e6c736beb5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7c11480e6f71a04de2ec9e6c736beb5">flag_ultrasonic_rear</a> = 0</td></tr>
<tr class="separator:ae7c11480e6f71a04de2ec9e6c736beb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7c2494976091727074f7dad22955df" id="r_adc7c2494976091727074f7dad22955df"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc7c2494976091727074f7dad22955df">flag_emergency</a> = 0</td></tr>
<tr class="separator:adc7c2494976091727074f7dad22955df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60d8119c8215c585798ff622d93dc37" id="r_ab60d8119c8215c585798ff622d93dc37"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab60d8119c8215c585798ff622d93dc37">flag_key</a> = 0</td></tr>
<tr class="separator:ab60d8119c8215c585798ff622d93dc37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1e2c8e070f6a14a623d30e1c99924d" id="r_a3b1e2c8e070f6a14a623d30e1c99924d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b1e2c8e070f6a14a623d30e1c99924d">flag_remote</a> = 0</td></tr>
<tr class="separator:a3b1e2c8e070f6a14a623d30e1c99924d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5892783317bc194fca4051a62487b744" id="r_a5892783317bc194fca4051a62487b744"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5892783317bc194fca4051a62487b744">flag_analog_throttle</a> = 0</td></tr>
<tr class="separator:a5892783317bc194fca4051a62487b744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7411d915798931b0f51eecea2626ec1e" id="r_a7411d915798931b0f51eecea2626ec1e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7411d915798931b0f51eecea2626ec1e">total_rotation</a> = 0</td></tr>
<tr class="memdesc:a7411d915798931b0f51eecea2626ec1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cumulative wheel rotation counter (units from integration of rpm).  <br /></td></tr>
<tr class="separator:a7411d915798931b0f51eecea2626ec1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc5a0e5fca1a310e6bfa125bf80042e" id="r_a1fc5a0e5fca1a310e6bfa125bf80042e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fc5a0e5fca1a310e6bfa125bf80042e">rotation</a> = 0</td></tr>
<tr class="memdesc:a1fc5a0e5fca1a310e6bfa125bf80042e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Floating point rotation accumulator.  <br /></td></tr>
<tr class="separator:a1fc5a0e5fca1a310e6bfa125bf80042e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0beda147e08a3d2d84e0bf7da8139d70" id="r_a0beda147e08a3d2d84e0bf7da8139d70"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0beda147e08a3d2d84e0bf7da8139d70">prev_rpm</a> = 0</td></tr>
<tr class="memdesc:a0beda147e08a3d2d84e0bf7da8139d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Previous RPM value for trapezoidal integration.  <br /></td></tr>
<tr class="separator:a0beda147e08a3d2d84e0bf7da8139d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9284c2eec3539d6a1f081518cb849a6a" id="r_a9284c2eec3539d6a1f081518cb849a6a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9284c2eec3539d6a1f081518cb849a6a">rpm_sampling</a> = 0</td></tr>
<tr class="memdesc:a9284c2eec3539d6a1f081518cb849a6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timestamp used when sampling RPM from ezkontrol module.  <br /></td></tr>
<tr class="separator:a9284c2eec3539d6a1f081518cb849a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a575b5f45690c9aad717f83da4a8def42" id="r_a575b5f45690c9aad717f83da4a8def42"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a575b5f45690c9aad717f83da4a8def42">last_ezkontrol_rpm</a> = 0</td></tr>
<tr class="memdesc:a575b5f45690c9aad717f83da4a8def42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last instant when an ezkontrol RPM was observed.  <br /></td></tr>
<tr class="separator:a575b5f45690c9aad717f83da4a8def42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92332403886bc2690bbc53ced83f48d3" id="r_a92332403886bc2690bbc53ced83f48d3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92332403886bc2690bbc53ced83f48d3">closest_radar</a></td></tr>
<tr class="memdesc:a92332403886bc2690bbc53ced83f48d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closest radar distance (cached).  <br /></td></tr>
<tr class="separator:a92332403886bc2690bbc53ced83f48d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed45d6c9aa044b0814c4675ae96f4159" id="r_aed45d6c9aa044b0814c4675ae96f4159"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed45d6c9aa044b0814c4675ae96f4159">ready_to_recieve_radar</a> = 0</td></tr>
<tr class="memdesc:aed45d6c9aa044b0814c4675ae96f4159"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating radar ready-to-receive sequence (unused in current logic).  <br /></td></tr>
<tr class="separator:aed45d6c9aa044b0814c4675ae96f4159"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main program body for STM32-based vehicle control system. </p>
<p>This file contains the entry point and the primary control logic for an STM32-based embedded system that interfaces with CAN (FDCAN), UART, and an RTOS (CMSIS-RTOS2). It implements tasks for sending telemetry over UART, controlling motors (EZKontrol), sampling CAN messages, steering, braking, and a safety monitoring system. The file preserves the original STM32CubeMX initialization functions and HAL usage.</p>
<p>The original license/attention block from STM32Cube is preserved below.</p>
<dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Shiddieqy </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-11-10</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Copyright (c) 2025 STMicroelectronics. All rights reserved.</dd></dl>
<p>This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4bef1684c11775456cc06fd60b23c1f2" name="a4bef1684c11775456cc06fd60b23c1f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bef1684c11775456cc06fd60b23c1f2">&#9670;&#160;</a></span>THROTTLE_FILTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THROTTLE_FILTER&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smoothing factor for throttle input (0..1). </p>
<p>Used to low-pass filter sudden changes in throttle commands. </p>

</div>
</div>
<a id="a1af831dd6bf2216d6fbf4142ab8c8b00" name="a1af831dd6bf2216d6fbf4142ab8c8b00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1af831dd6bf2216d6fbf4142ab8c8b00">&#9670;&#160;</a></span>UART1_BUF_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UART1_BUF_SIZE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab0249d81dd53336b7810ebcf29511210" name="ab0249d81dd53336b7810ebcf29511210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0249d81dd53336b7810ebcf29511210">&#9670;&#160;</a></span>UART_BUF_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UART_BUF_SIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acfa1763cec78e3b59838f5b51a31b657" name="acfa1763cec78e3b59838f5b51a31b657"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa1763cec78e3b59838f5b51a31b657">&#9670;&#160;</a></span>ULTRASONIC_BOT_THRESHOLD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ULTRASONIC_BOT_THRESHOLD&#160;&#160;&#160;70</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lower bound threshold for ultrasonic sensors mapping to brake action. </p>
<p>Values below this will be clamped to maximum braking. </p>

</div>
</div>
<a id="a0806cd14a1c22ddde1d346a8271c2e25" name="a0806cd14a1c22ddde1d346a8271c2e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0806cd14a1c22ddde1d346a8271c2e25">&#9670;&#160;</a></span>ULTRASONIC_THRESHOLD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ULTRASONIC_THRESHOLD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Threshold (in raw units) under which ultrasonic sensors trigger proximity actions. </p>
<p>Compared against UART telemetry fields for front and rear ultrasonic measurements. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa025a12d45f60c7d0eae249e61f0c7f9" name="aa025a12d45f60c7d0eae249e61f0c7f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa025a12d45f60c7d0eae249e61f0c7f9">&#9670;&#160;</a></span>_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _write </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplements write syscall used by printf to route through UART8. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>File descriptor (ignored). </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to buffer to write. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written.</dd></dl>
<p>This function forwards the buffer to HAL_UART_Transmit using huart8. It intentionally uses blocking HAL with HAL_MAX_DELAY for simplicity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>File descriptor (ignored). </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to buffer to write. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written. </dd></dl>

</div>
</div>
<a id="a15fe3ce8250964de6f0317ff2653632c" name="a15fe3ce8250964de6f0317ff2653632c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15fe3ce8250964de6f0317ff2653632c">&#9670;&#160;</a></span>Brake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Brake </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function implementing the myTask05 thread (Brake). </p>
<p>Function implementing the myTask05 thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argument</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70f73d74fe913c03e6f604659b1767b9" name="a70f73d74fe913c03e6f604659b1767b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70f73d74fe913c03e6f604659b1767b9">&#9670;&#160;</a></span>canbus_sampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canbus_sampling </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function implementing the myTask03 thread (canbus_sampling). </p>
<p>Function implementing the myTask03 thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argument</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4466af40477fad9abd9287dc003013fc" name="a4466af40477fad9abd9287dc003013fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4466af40477fad9abd9287dc003013fc">&#9670;&#160;</a></span>ceksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ceksum </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>array_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute checksum of a message buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to message buffer. </td></tr>
    <tr><td class="paramname">array_size</td><td>Size of the buffer (including checksum byte). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>8-bit sum of bytes msg[0]..msg[array_size-2].</dd></dl>
<p>Sums all bytes in the buffer except last and returns 8-bit sum.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to message buffer. </td></tr>
    <tr><td class="paramname">array_size</td><td>Size of the buffer (including checksum byte). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>8-bit sum of bytes msg[0]..msg[array_size-2]. </dd></dl>

</div>
</div>
<a id="a1730ffe1e560465665eb47d9264826f9" name="a1730ffe1e560465665eb47d9264826f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1730ffe1e560465665eb47d9264826f9">&#9670;&#160;</a></span>Error_Handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Error_Handler </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is executed in case of error occurrence. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab999438b5580f4a0566c39283b5e6080" name="ab999438b5580f4a0566c39283b5e6080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab999438b5580f4a0566c39283b5e6080">&#9670;&#160;</a></span>ezkontrol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ezkontrol </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function implementing the myTask02 thread (ezkontrol). </p>
<p>Function implementing the myTask02 thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argument</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8a3b0ad512a6e6c6157440b68d395eac" name="a8a3b0ad512a6e6c6157440b68d395eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3b0ad512a6e6c6157440b68d395eac">&#9670;&#160;</a></span>HAL_TIM_PeriodElapsedCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_TIM_PeriodElapsedCallback </td>
          <td>(</td>
          <td class="paramtype">TIM_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>htim</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Period elapsed callback in non blocking mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>: TIM handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is called when TIM4 interrupt took place, inside HAL_TIM_IRQHandler(). It makes a direct call to HAL_IncTick() to increment a global variable "uwTick" used as application time base. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>: TIM handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae494a9643f29b87d6d81e5264e60e57b" name="ae494a9643f29b87d6d81e5264e60e57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae494a9643f29b87d6d81e5264e60e57b">&#9670;&#160;</a></span>HAL_UART_RxCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_UART_RxCpltCallback </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>huart</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART receive complete callback used by HAL interrupt mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">huart</td><td>Pointer to UART handle that triggered the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Handles per-byte reception from UART8 (telemetry control) and USART1/2 (remote control). Re-arms the receive interrupt for continuous asynchronous operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">huart</td><td>Pointer to UART handle that triggered the callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The application entry point. </p>
<hr  />
<p> Function Definitions (documented prototypes) - appear here in the same order </p>
<h1><a class="anchor" id="autotoc_md1"></a>
as the implementations later in the file.</h1>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af0798246d50bcef987b5bc4b74e6a364" name="af0798246d50bcef987b5bc4b74e6a364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0798246d50bcef987b5bc4b74e6a364">&#9670;&#160;</a></span>parse_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parse_command </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse incoming UART commands and dispatch appropriate actions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to incoming command buffer.</td></tr>
  </table>
  </dd>
</dl>
<p>Supports functions codes:</p><ul>
<li>0x01: Start streaming</li>
<li>0x00: Stop streaming (sends ack)</li>
<li>0x02: Query request</li>
<li>0x03..0x06: Various command/response flows (control and query)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to incoming command buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a336c5acb34a801b2984e602b97ed7b73" name="a336c5acb34a801b2984e602b97ed7b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336c5acb34a801b2984e602b97ed7b73">&#9670;&#160;</a></span>PeriphCommonClock_Config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PeriphCommonClock_Config </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Peripherals Common Clock Configuration. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Initializes the peripherals clock</p>

</div>
</div>
<a id="a738f33194888982179443105306e5f96" name="a738f33194888982179443105306e5f96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a738f33194888982179443105306e5f96">&#9670;&#160;</a></span>query_request_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void query_request_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle query request messages received over UART. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to incoming 5-byte or variable-length query message.</td></tr>
  </table>
  </dd>
</dl>
<p>Verifies checksum and responds by sending a subset of the telemetry packet back over UART8 according to the requested indices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to incoming 5-byte or variable-length query message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8203aa70a52565297789b53a0d937791" name="a8203aa70a52565297789b53a0d937791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8203aa70a52565297789b53a0d937791">&#9670;&#160;</a></span>safety_system()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void safety_system </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function implementing the myTask06 thread (safety_system). </p>
<p>Function implementing the myTask06 thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argument</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f68b90d4a72b12ea2eeb7a2890f244f" name="a5f68b90d4a72b12ea2eeb7a2890f244f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f68b90d4a72b12ea2eeb7a2890f244f">&#9670;&#160;</a></span>send_uart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_uart </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function implementing the defaultTask thread (send_uart). </p>
<p>Function implementing the defaultTask thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argument</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1974d32f9add5c8ff68593b48c98be0" name="ad1974d32f9add5c8ff68593b48c98be0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1974d32f9add5c8ff68593b48c98be0">&#9670;&#160;</a></span>Steering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Steering </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function implementing the myTask04 thread (Steering). </p>
<p>Function implementing the myTask04 thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argument</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70af21c671abfcc773614a9a4f63d920" name="a70af21c671abfcc773614a9a4f63d920"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70af21c671abfcc773614a9a4f63d920">&#9670;&#160;</a></span>SystemClock_Config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemClock_Config </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System Clock Configuration. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Supply configuration update enable</p>
<p>Configure the main internal regulator output voltage</p>
<p>Initializes the RCC Oscillators according to the specified parameters in the RCC_OscInitTypeDef structure.</p>
<p>Initializes the CPU, AHB and APB buses clocks</p>
<p>Enables the Clock Security System</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a92332403886bc2690bbc53ced83f48d3" name="a92332403886bc2690bbc53ced83f48d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92332403886bc2690bbc53ced83f48d3">&#9670;&#160;</a></span>closest_radar</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t closest_radar</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closest radar distance (cached). </p>

</div>
</div>
<a id="a43f3f1c7cac014645bb8cd8e87444867" name="a43f3f1c7cac014645bb8cd8e87444867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f3f1c7cac014645bb8cd8e87444867">&#9670;&#160;</a></span>control_cmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_control_c_m_d.html">ControlCMD</a> control_cmd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global instance of <a class="el" href="struct_control_c_m_d.html" title="Control command structure containing throttle/brake/steer/timestamp.">ControlCMD</a> used by tasks to read/update control signals. </p>

</div>
</div>
<a id="a25fbb54afdba71c24ba51ed50166ac8d" name="a25fbb54afdba71c24ba51ed50166ac8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fbb54afdba71c24ba51ed50166ac8d">&#9670;&#160;</a></span>defaultTask_attributes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osThreadAttr_t defaultTask_attributes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .name = <span class="stringliteral">&quot;defaultTask&quot;</span>,</div>
<div class="line">  .stack_size = 256 * 4,</div>
<div class="line">  .priority = (osPriority_t) osPriorityNormal,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a263905468b0c37de4ee5e50ede4e74" name="a6a263905468b0c37de4ee5e50ede4e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a263905468b0c37de4ee5e50ede4e74">&#9670;&#160;</a></span>defaultTaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osThreadId_t defaultTaskHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c25687f90be12f32ccc04a44c66031a" name="a8c25687f90be12f32ccc04a44c66031a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c25687f90be12f32ccc04a44c66031a">&#9670;&#160;</a></span>ez_last_can_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t ez_last_can_time = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last tick time when ezkontrol CAN message was seen. </p>

</div>
</div>
<a id="a5892783317bc194fca4051a62487b744" name="a5892783317bc194fca4051a62487b744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5892783317bc194fca4051a62487b744">&#9670;&#160;</a></span>flag_analog_throttle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_analog_throttle = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aee03c641192bcbf8c4343055abdc6134" name="aee03c641192bcbf8c4343055abdc6134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee03c641192bcbf8c4343055abdc6134">&#9670;&#160;</a></span>flag_brake</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_brake = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adc7c2494976091727074f7dad22955df" name="adc7c2494976091727074f7dad22955df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc7c2494976091727074f7dad22955df">&#9670;&#160;</a></span>flag_emergency</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_emergency = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1852432a00dbdffebfce60cfc0e15b04" name="a1852432a00dbdffebfce60cfc0e15b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1852432a00dbdffebfce60cfc0e15b04">&#9670;&#160;</a></span>flag_ezkontrol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_ezkontrol = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab60d8119c8215c585798ff622d93dc37" name="ab60d8119c8215c585798ff622d93dc37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab60d8119c8215c585798ff622d93dc37">&#9670;&#160;</a></span>flag_key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_key = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b1e2c8e070f6a14a623d30e1c99924d" name="a3b1e2c8e070f6a14a623d30e1c99924d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b1e2c8e070f6a14a623d30e1c99924d">&#9670;&#160;</a></span>flag_remote</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_remote = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae264f4e1c1ab4f68e9ccfc2360051741" name="ae264f4e1c1ab4f68e9ccfc2360051741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae264f4e1c1ab4f68e9ccfc2360051741">&#9670;&#160;</a></span>flag_steering</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_steering = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a87bdd7546d11ab3913e4e139a0f016ff" name="a87bdd7546d11ab3913e4e139a0f016ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87bdd7546d11ab3913e4e139a0f016ff">&#9670;&#160;</a></span>flag_ultrasonic_front</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_ultrasonic_front = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae7c11480e6f71a04de2ec9e6c736beb5" name="ae7c11480e6f71a04de2ec9e6c736beb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7c11480e6f71a04de2ec9e6c736beb5">&#9670;&#160;</a></span>flag_ultrasonic_rear</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_ultrasonic_rear = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af71d0ea733e88dc84fb4506e3bb5d8ce" name="af71d0ea733e88dc84fb4506e3bb5d8ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71d0ea733e88dc84fb4506e3bb5d8ce">&#9670;&#160;</a></span>hfdcan2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FDCAN_HandleTypeDef hfdcan2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FDCAN handle for FDCAN2 peripheral. </p>
<p>Used for CAN communication with motor controllers, sensors, etc. </p>

</div>
</div>
<a id="a2cf715bef37f7e8ef385a30974a5f0d5" name="a2cf715bef37f7e8ef385a30974a5f0d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf715bef37f7e8ef385a30974a5f0d5">&#9670;&#160;</a></span>huart1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UART_HandleTypeDef huart1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART handle for USART1. </p>
<p>Used to receive remote control commands / telemetry. </p>

</div>
</div>
<a id="aa9479c261d65eecedd3d9582f7f0f89c" name="aa9479c261d65eecedd3d9582f7f0f89c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9479c261d65eecedd3d9582f7f0f89c">&#9670;&#160;</a></span>huart2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UART_HandleTypeDef huart2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART handle for USART2. </p>
<p>Used to receive remote control commands / telemetry. </p>

</div>
</div>
<a id="a5c07cbc82baf01ac2608c07b86332a67" name="a5c07cbc82baf01ac2608c07b86332a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c07cbc82baf01ac2608c07b86332a67">&#9670;&#160;</a></span>huart8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UART_HandleTypeDef huart8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART handle for UART8. </p>
<p>Used for telemetry and host communication (printf output via _write). </p>

</div>
</div>
<a id="a21d3398f46b58d5cbefbdc2a306ae086" name="a21d3398f46b58d5cbefbdc2a306ae086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d3398f46b58d5cbefbdc2a306ae086">&#9670;&#160;</a></span>is_broadcast</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t is_broadcast = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating whether telemetry broadcast streaming is enabled. </p>

</div>
</div>
<a id="ac3dac34bca19ece028fd64b6269384a8" name="ac3dac34bca19ece028fd64b6269384a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3dac34bca19ece028fd64b6269384a8">&#9670;&#160;</a></span>is_remote_ready</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t is_remote_ready =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating remote control readiness. </p>

</div>
</div>
<a id="a575b5f45690c9aad717f83da4a8def42" name="a575b5f45690c9aad717f83da4a8def42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a575b5f45690c9aad717f83da4a8def42">&#9670;&#160;</a></span>last_ezkontrol_rpm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t last_ezkontrol_rpm = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last instant when an ezkontrol RPM was observed. </p>

</div>
</div>
<a id="a6d405d334dca4c57ae3d18c7bc2040d2" name="a6d405d334dca4c57ae3d18c7bc2040d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d405d334dca4c57ae3d18c7bc2040d2">&#9670;&#160;</a></span>myTask02_attributes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osThreadAttr_t myTask02_attributes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .name = <span class="stringliteral">&quot;myTask02&quot;</span>,</div>
<div class="line">  .stack_size = 128 * 4,</div>
<div class="line">  .priority = (osPriority_t) osPriorityNormal,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d2b138012cae0c08ec4af86d33dc579" name="a2d2b138012cae0c08ec4af86d33dc579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2b138012cae0c08ec4af86d33dc579">&#9670;&#160;</a></span>myTask02Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osThreadId_t myTask02Handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e3a8b648e3d8f5b47ac5eeec9581db0" name="a1e3a8b648e3d8f5b47ac5eeec9581db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e3a8b648e3d8f5b47ac5eeec9581db0">&#9670;&#160;</a></span>myTask03_attributes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osThreadAttr_t myTask03_attributes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .name = <span class="stringliteral">&quot;myTask03&quot;</span>,</div>
<div class="line">  .stack_size = 128 * 4,</div>
<div class="line">  .priority = (osPriority_t) osPriorityNormal,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a329f150edda503ebc9ddbbf63cca8e26" name="a329f150edda503ebc9ddbbf63cca8e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a329f150edda503ebc9ddbbf63cca8e26">&#9670;&#160;</a></span>myTask03Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osThreadId_t myTask03Handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a92121c9d4871cbd24a3536f81b0a49b0" name="a92121c9d4871cbd24a3536f81b0a49b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92121c9d4871cbd24a3536f81b0a49b0">&#9670;&#160;</a></span>myTask04_attributes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osThreadAttr_t myTask04_attributes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .name = <span class="stringliteral">&quot;myTask04&quot;</span>,</div>
<div class="line">  .stack_size = 128 * 4,</div>
<div class="line">  .priority = (osPriority_t) osPriorityNormal,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aef8c302b617a2329f03faf89a3796b2b" name="aef8c302b617a2329f03faf89a3796b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8c302b617a2329f03faf89a3796b2b">&#9670;&#160;</a></span>myTask04Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osThreadId_t myTask04Handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a489c45e33b8a8fac2875e16e14628f20" name="a489c45e33b8a8fac2875e16e14628f20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a489c45e33b8a8fac2875e16e14628f20">&#9670;&#160;</a></span>myTask05_attributes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osThreadAttr_t myTask05_attributes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .name = <span class="stringliteral">&quot;myTask05&quot;</span>,</div>
<div class="line">  .stack_size = 128 * 4,</div>
<div class="line">  .priority = (osPriority_t) osPriorityNormal,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a30fa863f442d84c64e5fdaf20aa89673" name="a30fa863f442d84c64e5fdaf20aa89673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30fa863f442d84c64e5fdaf20aa89673">&#9670;&#160;</a></span>myTask05Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osThreadId_t myTask05Handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad82e06bb4c5badd3595dd84e47bb2e49" name="ad82e06bb4c5badd3595dd84e47bb2e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad82e06bb4c5badd3595dd84e47bb2e49">&#9670;&#160;</a></span>myTask06_attributes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osThreadAttr_t myTask06_attributes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .name = <span class="stringliteral">&quot;myTask06&quot;</span>,</div>
<div class="line">  .stack_size = 128 * 4,</div>
<div class="line">  .priority = (osPriority_t) osPriorityNormal,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2964f031caf33bc9320b5ef243f55abd" name="a2964f031caf33bc9320b5ef243f55abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2964f031caf33bc9320b5ef243f55abd">&#9670;&#160;</a></span>myTask06Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osThreadId_t myTask06Handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0beda147e08a3d2d84e0bf7da8139d70" name="a0beda147e08a3d2d84e0bf7da8139d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0beda147e08a3d2d84e0bf7da8139d70">&#9670;&#160;</a></span>prev_rpm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float prev_rpm = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Previous RPM value for trapezoidal integration. </p>

</div>
</div>
<a id="aed45d6c9aa044b0814c4675ae96f4159" name="aed45d6c9aa044b0814c4675ae96f4159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed45d6c9aa044b0814c4675ae96f4159">&#9670;&#160;</a></span>ready_to_recieve_radar</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ready_to_recieve_radar = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating radar ready-to-receive sequence (unused in current logic). </p>

</div>
</div>
<a id="aa664395f931e17d6c609fffcf581ac6c" name="aa664395f931e17d6c609fffcf581ac6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa664395f931e17d6c609fffcf581ac6c">&#9670;&#160;</a></span>remote_bin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t remote_bin</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parsed remote binary flags nibble. </p>

</div>
</div>
<a id="abfe0a7cfc3082f4628d82d38aff0549a" name="abfe0a7cfc3082f4628d82d38aff0549a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe0a7cfc3082f4628d82d38aff0549a">&#9670;&#160;</a></span>remote_cmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t remote_cmd[3]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parsed remote control channels (3 channels). </p>

</div>
</div>
<a id="a1fc5a0e5fca1a310e6bfa125bf80042e" name="a1fc5a0e5fca1a310e6bfa125bf80042e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fc5a0e5fca1a310e6bfa125bf80042e">&#9670;&#160;</a></span>rotation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float rotation = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Floating point rotation accumulator. </p>

</div>
</div>
<a id="a9284c2eec3539d6a1f081518cb849a6a" name="a9284c2eec3539d6a1f081518cb849a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9284c2eec3539d6a1f081518cb849a6a">&#9670;&#160;</a></span>rpm_sampling</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rpm_sampling = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timestamp used when sampling RPM from ezkontrol module. </p>

</div>
</div>
<a id="a1d2825443bceaae0de5f7d008da16ee5" name="a1d2825443bceaae0de5f7d008da16ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d2825443bceaae0de5f7d008da16ee5">&#9670;&#160;</a></span>rx_mailbox</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rx_mailbox = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mailbox index for CAN Tx mailbox (unused/placeholder). </p>

</div>
</div>
<a id="a08d11a0b5e1ff5eae24d4457ed7a55a0" name="a08d11a0b5e1ff5eae24d4457ed7a55a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d11a0b5e1ff5eae24d4457ed7a55a0">&#9670;&#160;</a></span>rxData_analog_throttle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rxData_analog_throttle[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a23f010454795401379de27a1a14a9c89" name="a23f010454795401379de27a1a14a9c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f010454795401379de27a1a14a9c89">&#9670;&#160;</a></span>rxData_brake</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rxData_brake[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9e23fe38b3351d4137866c9b2246947" name="ab9e23fe38b3351d4137866c9b2246947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e23fe38b3351d4137866c9b2246947">&#9670;&#160;</a></span>rxData_ezkontrol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rxData_ezkontrol[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab146d0e70fbdcb773edcfb7f2aea0525" name="ab146d0e70fbdcb773edcfb7f2aea0525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab146d0e70fbdcb773edcfb7f2aea0525">&#9670;&#160;</a></span>rxData_steering</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rxData_steering[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ad504b80b97480c39744bd72ff58d4d" name="a4ad504b80b97480c39744bd72ff58d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ad504b80b97480c39744bd72ff58d4d">&#9670;&#160;</a></span>rxData_ultrasonic_front</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rxData_ultrasonic_front[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf0dc07f45f3bb7b623a3ccdd7175c4a" name="acf0dc07f45f3bb7b623a3ccdd7175c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0dc07f45f3bb7b623a3ccdd7175c4a">&#9670;&#160;</a></span>rxData_ultrasonic_rear</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t rxData_ultrasonic_rear[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f98a747185e331f5cda0e09276643da" name="a6f98a747185e331f5cda0e09276643da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f98a747185e331f5cda0e09276643da">&#9670;&#160;</a></span>rxHeader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FDCAN_RxHeaderTypeDef rxHeader</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FDCAN Rx header used for received messages (global scratch). </p>

</div>
</div>
<a id="a7411d915798931b0f51eecea2626ec1e" name="a7411d915798931b0f51eecea2626ec1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7411d915798931b0f51eecea2626ec1e">&#9670;&#160;</a></span>total_rotation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t total_rotation = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cumulative wheel rotation counter (units from integration of rpm). </p>

</div>
</div>
<a id="ad5e2a0dec612328a86551a978d91ed10" name="ad5e2a0dec612328a86551a978d91ed10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e2a0dec612328a86551a978d91ed10">&#9670;&#160;</a></span>uart1_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart1_data[100]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Local buffer for incoming UART1 data copy. </p>

</div>
</div>
<a id="ac2ac8944572822b4d2d46c852857fdaf" name="ac2ac8944572822b4d2d46c852857fdaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ac8944572822b4d2d46c852857fdaf">&#9670;&#160;</a></span>uart1_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t uart1_index =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index into uart1_rx_buffer for next write position. </p>

</div>
</div>
<a id="aca62292fdb4e16adeb393bf4b462231f" name="aca62292fdb4e16adeb393bf4b462231f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca62292fdb4e16adeb393bf4b462231f">&#9670;&#160;</a></span>uart1_rx_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char uart1_rx_buffer[<a class="el" href="#a1af831dd6bf2216d6fbf4142ab8c8b00">UART1_BUF_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Temporary buffer for incoming ASCII remote packets (USART1/2). </p>

</div>
</div>
<a id="affd5fa72df130fdd9e5590850506729a" name="affd5fa72df130fdd9e5590850506729a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affd5fa72df130fdd9e5590850506729a">&#9670;&#160;</a></span>uart_byte1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_byte1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single-byte temporary storage for UART interrupts (USART1/2). </p>

</div>
</div>
<a id="adee47efb11336ab0282dc184bee99467" name="adee47efb11336ab0282dc184bee99467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adee47efb11336ab0282dc184bee99467">&#9670;&#160;</a></span>uart_byte8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_byte8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single-byte temporary storage for UART interrupts (UART8). </p>

</div>
</div>
<a id="a7f0d5f470ec5db5604f2463ab8967c54" name="a7f0d5f470ec5db5604f2463ab8967c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0d5f470ec5db5604f2463ab8967c54">&#9670;&#160;</a></span>uart_cmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t uart_cmd[3]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parsed UART command channels stored as integers. </p>

</div>
</div>
<a id="a895c4854f46560e483400793c53980e4" name="a895c4854f46560e483400793c53980e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895c4854f46560e483400793c53980e4">&#9670;&#160;</a></span>uart_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_data[34]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    0xA5,               </div>
<div class="line">    0x11,               </div>
<div class="line">    0x00,               </div>
<div class="line">    0x00,               </div>
<div class="line">    0x00, 0x00,         </div>
<div class="line">    0x00,               </div>
<div class="line">    0x00,               </div>
<div class="line">    0x00, 0x00,         </div>
<div class="line">    0x00, 0x00,         </div>
<div class="line">    0x00, 0x00,         </div>
<div class="line">    0x00, 0x00,         </div>
<div class="line">    0x00, 0x00,         </div>
<div class="line">    0x00, 0x00,         </div>
<div class="line">    0x00,               </div>
<div class="line">    0xFF,               </div>
<div class="line">    0xFF,               </div>
<div class="line">    0x00,               </div>
<div class="line">    0x00,               </div>
<div class="line">    0x00, 0x00, 0x00, 0x00, </div>
<div class="line">    0x00, 0x00, 0x00, 0x00, </div>
<div class="line">    0x00                </div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Telemetry packet to be streamed over UART. </p>
<p>The array is a fixed 34-byte packet with the following mapping:</p><ul>
<li>[0] Header (0xA5)</li>
<li>[1] Function code (streaming data)</li>
<li>[2] Battery percentage</li>
<li>[3] Charging status</li>
<li>[4-5] RPM (int16, divided by 10 in original format)</li>
<li>[6] Brake percentage</li>
<li>[7] Steer angle</li>
<li>[8-19] IMU fields (x,y,z,yaw,pitch,roll)</li>
<li>[20] Radar closest object</li>
<li>[21] Ultrasonic front</li>
<li>[22] Ultrasonic rear</li>
<li>[23] Front bumper switch</li>
<li>[24] Rear bumper switch</li>
<li>[25-28] GPS latitude (float)</li>
<li>[29-32] GPS longitude (float)</li>
<li>[33] Checksum </li>
</ul>

</div>
</div>
<a id="a5537ad53848381767daf0a731f8fd009" name="a5537ad53848381767daf0a731f8fd009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5537ad53848381767daf0a731f8fd009">&#9670;&#160;</a></span>uart_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t uart_index = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index into uart_rx_buffer for next write position. </p>

</div>
</div>
<a id="a629f2b4148e5061aa3f0ade906a96aa2" name="a629f2b4148e5061aa3f0ade906a96aa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629f2b4148e5061aa3f0ade906a96aa2">&#9670;&#160;</a></span>uart_last_remote_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t uart_last_remote_time = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last tick time when a remote UART byte was received. </p>

</div>
</div>
<a id="a64a393a271595a2e2a16270cf7a4e025" name="a64a393a271595a2e2a16270cf7a4e025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a393a271595a2e2a16270cf7a4e025">&#9670;&#160;</a></span>uart_rx_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uart_rx_buffer[<a class="el" href="#ab0249d81dd53336b7810ebcf29511210">UART_BUF_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Circular RX buffer for UART8 asynchronous reception. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_633fcf4bf716c2c50efc5f54be3cbf3f.html">MAINBOARD</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
